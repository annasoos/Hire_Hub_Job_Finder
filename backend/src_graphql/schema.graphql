type Query {
	feed(filter: String, skip: Int, take: Int): [Job!]!
}

type Mutation {
	post(position: String!, level: String!,	location: String!,	company: String!,	skills: String!,	description: String!): Job!
	signup(firstName: String!, lastName: String!, email: String!, password: String!): AuthPayload
  login(email: String!, password: String!): AuthPayload
	like(jobId: ID!): Like
}

# Subscriptions are a GraphQL feature that allows a server to send data to its clients when a specific event happens.
type Subscription {
	newUser: User
	newJob: Job
	# updatedJob: Job
	# deletedJob: Job
}

type User {
	id: ID! # generated by the server
	firstName: String!
	lastName: String!
	email: String!
	password: String!
	posts: [Job!]!
	likes: [Like!]!
}

type Job {
	id: ID!
	position: String!
	level: String!
	location: String!
	company: String!
	skills: String!
	description: String!
	creator: User # the relation between User and Job should be bi-directional
	likes: [Like!]!
}

type AuthPayload {
  token: String
  user: User
}

type Like {
  id: ID!
  job: Job!
  user: User!
}